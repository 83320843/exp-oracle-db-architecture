# 知识扩展收集

##　涉及到的技术知识

　细粒度访问控制(find grained access control  FGAC)特性

## 常用英文收集

ASM:automatic storage management【自动存储管理】

SGA:system global area 【系统全局区】

PGA:process global area 【进程全局区】

UGA:user global area 【用户全局区】

server process:用户进程 

background process：后台进程

slave process ：从属进程

single tanent :单租户

multitanet：多租户

container/root database 容器数据库/根数据库

pluggable【ˈplʌgəbl】 database 可插拨数据库

real application clusters：真正应用数据库 RAC

# 第一章 开发成功的oracle应用

## 1.3.3 多版本控制

读一致性与多版本控制

```
SQL> variable scn number
SQL> exec :scn := dbms_flashback.get_system_change_number;
PL/SQL procedure successfully completed
scn
---------
2571961

SQL> select count(*) from emp;

  COUNT(*)
----------
        14

SQL> delete from emp;

14 rows deleted

SQL> commit;

Commit complete

SQL> select count(*), :scn then_scn,dbms_flashback.get_system_change_number now_scn from emp 
  2  as of scn :scn;

  COUNT(*)   THEN_SCN    NOW_SCN
---------- ---------- ----------
        14    2571961    2572014
scn
---------
2571961

SQL> alter table emp enable row movement;

Table altered

SQL> flashback table emp to scn :scn;

Done
scn
---------
2571961

SQL> select cnt_now,cnt_then,
  2  :scn then_scn, dbms_flashback.get_system_change_number now_scn from (select count(*) cnt_now from emp),
  3  (select count(*) cnt_then from emp as of scn :scn)
  4  /

   CNT_NOW   CNT_THEN   THEN_SCN    NOW_SCN
---------- ---------- ---------- ----------
        14         14    2571961    2572089
scn
---------
2571961
```

session级别控制同个账户同时只能登录一个

```
SQL> create profile one_session limit sessions_per_user 1;

Profile created

SQL> alter user scott profile one_session;

User altered

SQL> alter system set resource_limit=true;

System altered
```

# 第二章 体系结构概述

## 2.1定义数据库和实例

## 2.2 连接Oracle

## 2.3 可插拔式数据库

### 2.3.1 降低资源用量

### 2.3.2 降低维护开销

# 第三章 文件

oracle文件分为以下类型：

参数文件(parameter file)：告诉Oracle在哪可以找到控制文件，应当以某种内在结构设置多大空间等。

跟踪文件(trace file)：通常是服务器进程对某种异常错误条件作出的响应时创建的诊断文件。

警告文件（alert file)：与跟踪文件类似，但是包含“期望”事件的有关信息，并且通过一个集中式文件（其中包括多个数据库事件）警告DBA

数据文件（data file)：这些文件是数据库的主要文件，其中包括表、索引和所有其他的段。

临时文件（temp file)：这些文件用于完成基于磁盘的排序和临时数据的存储。

控制文件（control file)：这些文件能告诉你数据文件、临时文件和重做日志文件在哪里，还会指出与文件状态有关的其他元数据。RMAN也会在这个文件存放数据库备份的信息。

重做日志文件（redo log file)： 这些就是事务日志。

密码文件（password file)这些文件用于认证数据库的SYS角色用户。

从Oracle10G开始，添加两类新文件，可以帮助ORACLE实现更快的备份和恢复操作。

修改跟踪文件（change-tracking file):这个文件用于ORACLE数据库建立增量备份

闪回日志文件（flashback log file)： 这些文件存储数据库块的“前映像”，它用于新增加的flashback database命令。

还会讨论

转储文件（dump file ,DMP file)：由ORACLE提供的EXP（导出）工具生成，并由IMP（导入使用），exp已被当前版本弃用，imp命令还可以继续使用，用于将老版本数据导入到新版本的数据库中。

数据泵文件（Data Pump file)：由ORACLE数据泵expdp导出（Data PumpExport)进程生成，*并由数据泵mpdp导入（Data Pump  Import)进程使用。外部表也可以创建和使用这种文件格式。

平面文件（flat file)：这种无格式文件可以在文件编辑器中查处。通常会使用这些文件赂数据库中加载数据）



只要有数据文件和重做日志文件，就算其他文件都没有，也能得到数据。若把重做日志文件弄丢失了，但丢失一部分数据。



## 3.1 参数文件（init.ora 文件）

从Oracle 9i开始采用spfile(server parameter file) 

SID（site identifier):站点标识符

### 3.1.1 什么是参数

可通过V$parameter或者show parameters查看参数设置

需要设置参数文件init.ora时必须手工编辑该文件，而spfile文件时直接在数据库中修改就可以

### 3.1.2 init.ora参数文件（PFILE【parameter file】)

默认位置：

linux : $ORACLE_HOME/dbs

windows: %ORACLE_HOME%\DATABASE

若数据库是采用init.ora启动，则alter system改变参数之后并不会直接修改init.ora文件，需要手工编辑init.ora文件

init.ora可以放到客户端，即可以通过客户端加载init.ora启动数据库，但若服务器没有此文件，则会有麻烦

### 3.1.3 服务器参数文件(SPFILE[server parameter file])

杜绝了参数文件的繁殖

再也不能在数据库之外使用文本编辑器手动的维护参数文件